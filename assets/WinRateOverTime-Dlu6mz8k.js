import{m as p}from"./vue3-apexcharts-BIzZwsX0.js";import{c as r,N as _,O as h,P as d,f as x,as as c}from"./index-8LmnQY5V.js";const y={components:{apexchart:p}},w=Object.assign(y,{__name:"WinRateOverTime",props:{matches:{type:Array,required:!0}},setup(l){const i=l,f=t=>{const[s,a]=t.split(":").map(Number);return Math.round((s+a/60)/5)*5},n=r(()=>{const t={},s=Array.from({length:8},(o,e)=>(e+3)*5);i.matches.forEach(o=>{const e=f(o.game_length);t[e]||(t[e]={wins:0,total:0}),t[e].total++,o.is_won&&t[e].wins++});let a=0;return s.map(o=>{const e=t[o];return e&&(a=e.total>0?(e.wins/e.total*100).toFixed(1):a),{minute:o,win_rate:Number(a)}})}),m=r(()=>[{name:"Win Rate",data:n.value.map(t=>t.win_rate)}]),u=r(()=>({chart:{type:"line",foreColor:"#fff",background:"transparent",toolbar:{show:!1}},stroke:{width:3,curve:"smooth"},xaxis:{categories:n.value.map(t=>`${t.minute}m`),labels:{style:{colors:"#fff"}},title:{text:"Game Duration (min)",style:{color:"#fff"}}},yaxis:{min:0,max:100,labels:{formatter:t=>`${t}%`,style:{color:"#fff"}},title:{text:"WR %",style:{color:"#fff"}}},colors:["#00e676"],legend:{labels:{colors:"#fff"}},tooltip:{theme:"dark",y:{formatter:t=>`${t}%`}}}));return(t,s)=>{const a=c("apexchart"),o=c("InfoCard");return h(),_(o,{title:"Win Rate by Game Minute"},{default:d(()=>[x(a,{type:"line",height:"205",options:u.value,series:m.value},null,8,["options","series"])]),_:1})}}});export{w as _};
